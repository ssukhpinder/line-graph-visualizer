module.exports=function(t){var e={};function r(o){if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=t,r.c=e,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(o,n,function(e){return t[e]}.bind(null,n));return o},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=6)}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=r(2),n=r(1),i=r(20);e.getExpressionToInitializeDataExtractorApi=function(){return`((function () {\n\t\tlet module = {};\n\t\t${r(21).readFileSync(__filename,{encoding:"utf8"})}\n\t\treturn module.exports.getDataExtractorApi();\n\t})())`},e.getExpressionForDataExtractorApi=function(){return`((${s.toString()})())`};const a="@hediet/data-extractor-api/v2";function s(){let t=("object"==typeof window?window:global)["@hediet/data-extractor-api/v2"];if(!t){throw new Error(`Data Extractor API has not been initialized. Code: ${"EgH0cybXij1jYUozyakO"}`)}return t}function c(){("object"==typeof window?window:global).hedietDbgVis={...n,...i}}e.getDataExtractorApi=function(){c();const t="object"==typeof window?window:global;return t[a]||(t[a]=new o.DataExtractorApiImpl),t[a]},e.ApiHasNotBeenInitializedCode="EgH0cybXij1jYUozyakO",e.installHelpers=c},function(t,e,r){"use strict";function o(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}Object.defineProperty(e,"__esModule",{value:!0}),o(r(5)),o(r(16)),o(r(17)),o(r(18))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=r(3);class n{constructor(){this.extractors=new Map}toJson(t){return JSON.stringify(t)}registerExtractor(t){this.extractors.set(t.id,t)}registerExtractors(t){for(const e of t)this.registerExtractor(e)}getData(t,e,r){const o=new Array,i={addExtraction(t){o.push(t)}};n.lastEvalFn=e;const a=t();n.lastEvalFn=void 0;for(const t of this.extractors.values())t.getExtractions(a,i,{evalFn:e});o.sort((t,e)=>e.priority-t.priority);let s=o[0];if(!s)return this.toJson({kind:"NoExtractors"});if(r){const t=o.find(t=>t.id===r);t&&(s=t)}function c(t){return{id:t.id,name:t.name,priority:t.priority}}const u=s.extractData();return this.toJson({kind:"Data",extractionResult:{data:u,usedExtractor:c(s),availableExtractors:o.map(c)}})}registerDefaultExtractors(t=!1){o.registerDefaultExtractors(this)}}e.DataExtractorApiImpl=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r(9);e.registerDefaultExtractors=o.registerDefaultExtractors},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isExtractedData=function(t){if(!("object"==typeof t&&t&&"kind"in t))return!1;const e=t;return!("object"!=typeof e.kind||!e.kind)&&Object.values(e.kind).every(t=>!0===t)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createGraph=function(t,e,r={}){const o={kind:{graph:!0},nodes:[],edges:[]};let n=1;const i=new Map;function a(t){const r=e(t).id;if(void 0!==r)return""+r;let o=i.get(t);return o||(o=`hediet.de/id-${n++}`,i.set(t,o)),o}const s=new Array(...t.map(t=>({item:t,dist:0}))),c=new Set;for(;s.length>0;){const{item:t,dist:n}=s.shift();if(c.has(t))continue;c.add(t);const i=e(t),u=a(t);o.nodes.push({...i,id:u,edges:void 0});for(const t of i.edges){const e=a(t.to);o.edges.push({...t,from:u,to:e});let i=!c.has(t.to);r.maxSize&&c.size+s.length>r.maxSize&&(i=!1),i&&s.push({item:t.to,dist:n+1})}}return o}},function(t,e,r){"use strict";function o(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}Object.defineProperty(e,"__esModule",{value:!0}),o(r(7)),o(r(22)),o(r(4))},function(t,e,r){"use strict";function o(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}Object.defineProperty(e,"__esModule",{value:!0}),o(r(8)),o(r(1));var n=r(3);e.registerDefaultExtractors=n.registerDefaultExtractors},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}(r(0))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=r(10),n=r(11),i=r(12),a=r(13),s=r(14),c=r(15),u=r(0),l=r(19);e.registerDefaultExtractors=function(t=u.getDataExtractorApi()){for(const e of[new o.TypeScriptAstDataExtractor,new n.AsIsDataExtractor,new i.GetDebugVisualizationDataExtractor,new a.ToStringDataExtractor,new s.PlotDataExtractor,new c.ObjectGraphExtractor,new l.GridExtractor])t.registerExtractor(e)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.TypeScriptAstDataExtractor=class{constructor(){this.id="typescript-ast"}getExtractions(t,e,{evalFn:r}){if(!t)return;let o;try{if(o="object"==typeof t&&"typescript"in t?t.typescript:r("require")("typescript"),!o)return}catch(t){return}function n(t,e){for(var r in e)if(!r.startsWith("_")){var o=e[r];if(o===t)return r;if(Array.isArray(o)&&-1!==o.indexOf(t))return r}return null}function i(t){const e=new Array;return o.forEachChild(t,t=>{e.push(t)}),e}function a(t,e,r,s){const c=o.SyntaxKind[t.kind],u=i(t).map((e,c)=>{let u=n(e,t)||"";if(e.kind==o.SyntaxKind.SyntaxList){const r=i(e);if(r.some(e=>(u=n(e,t)||"",!!u)),0===r.length)return null}return t.kind==o.SyntaxKind.SyntaxList&&(u=""+c),a(e,u,r,s)}).filter(t=>null!==t);let l=void 0;return o.isIdentifier(t)?l=t.text||t.escapedText:o.isLiteralExpression(t)&&(l=t.text),{name:c,id:e,children:u,data:{length:t.end-t.pos,position:t.pos},emphasizedValue:s(t),isMarked:r.has(t),value:l}}function s(t){return"object"==typeof t&&null!==t&&(o.isToken(t)||o.isNode(t))}function c(t){if(!t)throw new Error("Detached node");return o.isSourceFile(t)?t:"getSourceFile"in t?t.getSourceFile():c(t.parent)}let u,l=void 0,d=void 0,f=t=>{};if(Array.isArray(t)&&t.every(s)&&t.length>0)l=c(t[0]),u=new Set(t);else if(s(t))l=c(t),u=new Set([t]);else{if("object"!=typeof t||!t)return;{u=new Set;const e=new Map;f=t=>e.get(t);for(const[r,o]of Object.entries(t))if("fn"===r)f=o;else if("typescript"===r);else{let t;if("rootNode"===r&&(d=o),s(o))t=[o];else{if(!Array.isArray(o)||!o.every(s))return;t=o}t.length>0&&!l&&(l=c(t[0]));for(const o of t)u.add(o),e.set(o,r)}}}if(!l)return;const p=l;e.addExtraction({id:"ts-ast",name:"TypeScript AST",priority:1e3,extractData:()=>({kind:{text:!0,tree:!0,ast:!0},root:a(d||p,"root",u,f),text:p.text,fileName:"index.ts"})})}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=r(4);e.AsIsDataExtractor=class{constructor(){this.id="as-is"}getExtractions(t,e,r){o.isExtractedData(t)&&e.addExtraction({id:this.id,name:"As Is",priority:500,extractData:()=>t})}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.GetDebugVisualizationDataExtractor=class{constructor(){this.id="get-debug-visualization"}getExtractions(t,e,r){"object"==typeof t&&t&&"getDebugVisualization"in t&&e.addExtraction({id:this.id,name:"Use Method 'getDebugVisualization'",priority:600,extractData:()=>t.getDebugVisualization()})}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.ToStringDataExtractor=class{constructor(){this.id="to-string"}getExtractions(t,e,r){e.addExtraction({id:"to-string",name:"To String",priority:100,extractData:()=>({kind:{text:!0},text:""+t})})}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.PlotDataExtractor=class{constructor(){this.id="plot"}getExtractions(t,e,r){Array.isArray(t)&&(t.some(t=>"number"!=typeof t)||e.addExtraction({id:"plot-y",name:"Plot as y-Values",priority:1001,extractData:()=>({kind:{plotly:!0},data:[{y:t}]})}))}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=r(1);e.ObjectGraphExtractor=class{constructor(){this.id="object-graph"}getExtractions(t,e,r){function n(t){return"object"==typeof t&&!!t}n(t)&&e.addExtraction({id:"object-graph",name:"Object Graph",priority:99,extractData:()=>o.createGraph([t],e=>{let r="";const o=new Array;if(e instanceof Set){r="Set";for(const t of e.values())n(t)&&o.push({label:"item",to:t})}else if(e instanceof Map){r="Map";for(const[t,r]of e.entries())n(r)&&o.push({label:t,to:r})}else{for(const[t,r]of Object.entries(e))n(r)&&o.push({label:t,to:r});r=e.constructor?e.constructor.name:"?"}return{shape:"box",edges:o,color:e===t?"lightblue":void 0,label:r}},{maxSize:50})})}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=r(5);e.createGraphFromPointers=function(t,e){const r={},n=Object.entries(t).map(([t,e])=>({marker:r,name:t,value:e}));return o.createGraph(n,t=>"marker"in t&&t.marker===r?{id:"label____"+t.name,color:"orange",label:t.name,edges:[{to:t.value,color:"orange",label:""}].filter(t=>!!t.to)}:e(t))}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=r(2);e.tryEval=function(t){const e={},r=o.DataExtractorApiImpl.lastEvalFn;if(Array.isArray(t))for(const o of t)try{e[o]=r(o)}catch(t){}else for(const[o,n]of Object.entries(t))try{e[o]=r(n)}catch(t){}return e}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.markedGrid=function(t,e){return{kind:{array:!0},rows:[{columns:t.map(t=>({tag:t}))}],markers:Object.entries(e).map(([t,e])=>({id:t,row:0,column:e}))}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.GridExtractor=class{constructor(){this.id="grid"}getExtractions(t,e,r){Array.isArray(t)&&e.addExtraction({id:this.id,name:"Array As Grid",priority:500,extractData:()=>({kind:{array:!0},rows:[{columns:t.map(t=>({tag:t}))}]})})}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=r(0);e.getApi=o.getDataExtractorApi},function(t,e){t.exports=require("fs")},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isCommonDataType=function(t,e){for(const r of Object.keys(e))if(!(r in t.kind))return!1;return!0}}]);
//# sourceMappingURL=index.js.map